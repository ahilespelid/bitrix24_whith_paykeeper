{"version":3, "file":"page_9b814f965b2ba37b76b35361e5c8db16.js", "sections": [{"offset": { "line": 2, "column": 0 }, "map": {"version":3,"sources":["/bitrix/components/bitrix/ui.sidepanel.wrapper/templates/.default/template.js"],"names":["BX","namespace","UI","SidePanel","Wrapper","parameters","prototype","init","this","container","containerId","isCloseAfterSave","isReloadGridAfterSave","isReloadPageAfterSave","skipNotification","useLinkTargetsReplacing","notification","previousSlider","Instance","getPreviousSlider","getSliderByWindow","window","parentWindow","getWindow","top","initEditableTitle","getParam","reloadGridOnParentPage","setParam","handler","content","loadExt","then","Notification","Center","notify","bind","location","reload","close","initLinkTargetsReplacing","title","selector","defaultTitle","dataContainer","querySelector","titleDataNode","style","display","TitleEditor","dataNode","replaceLinkTargets","MutationObserver","observer","domMutationHandler","observe","childList","subtree","mutations","forEach","mutation","i","addedNodes","length","node","item","context","document","body","list","tagName","nodeName","convert","nodeListToArray","querySelectorAll","filter","a","target","name","value","slider","getData","set","get","undefined","removeParam","delete","parent","id","type","isString","Main","gridManager","data","grid","instance","grids","getById","isInit","params","titleNode","inputNode","buttonNode","initialTitle","textContent","onDataNodeChange","startEdit","onKeyUp","endEdit","disabled","enable","isDisable","changeDisplay","disable","event","keyCode","preventDefault","getTitle","focus","isShow"],"mappings":"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","file":"template.map.js"}},{"offset": { "line": 6, "column": 0 }, "map": {"version":3,"file":"script.map.js","names":["exports","main_core","main_core_events","_classPrivateMethodInitSpec","obj","privateSet","_checkPrivateRedeclaration","add","privateCollection","has","TypeError","_classPrivateMethodGet","receiver","fn","_sendEvent","WeakSet","ImageInput","babelHelpers","createClass","key","value","getById","id","imageInputInstances","get","options","arguments","length","undefined","classCallCheck","this","defineProperty","handleOnUploaderIsInited","bind","Map","wrapper","BX","productId","skuId","iblockId","saveable","inputId","ajaxStatus","WAIT_STATUS","hideAddButton","addButton","querySelector","Type","isDomNode","style","display","isObject","values","hasOwnProperty","set","isSaveable","EventEmitter","subscribe","onUploaderIsInitedHandler","event","_event$getCompatData","getCompatData","_event$getCompatData2","slicedToArray","uploader","isStringFilled","uploaderFieldMap","onFileDelete","onFileUpload","onDone","onQueueIsChanged","unsubscribeEvents","unsubscribe","unsubscribeImageInputEvents","Reflection","getClass","imageInput","UI","getId","setId","_event$getCompatData3","_event$getCompatData4","file","inputName","input_name","isNil","save","_event$getCompatData5","_event$getCompatData6","type","itemId","uploaderItem","image","newValues","size","clear","_event$getCompatData7","_event$getCompatData8","params","files","_sendEvent2","call","tool","category","currentUploadedFile","photoItem","fileId","data","name","tmp_name","path","error","fileFieldName","_this","submitFileTimeOut","clearTimeout","requestId","Text","getRandom","refreshImageSelectorId","setTimeout","forEach","ajax","runAction","json","variationId","imageValues","then","response","_response$data","Runtime","html","input","emit","loadExtension","sendData","console","namespace","window","Event"],"sources":["/bitrix/components/bitrix/catalog.image.input/templates/.default/script.js"],"mappings":"CACC,SAAUA,EAAQC,EAAUC,GAC5B,aAEA,SAASC,EAA4BC,EAAKC,GAAcC,EAA2BF,EAAKC,GAAaA,EAAWE,IAAIH,EAAM,CAC1H,SAASE,EAA2BF,EAAKI,GAAqB,GAAIA,EAAkBC,IAAIL,GAAM,CAAE,MAAM,IAAIM,UAAU,iEAAmE,CAAE,CACzL,SAASC,EAAuBC,EAAUP,EAAYQ,GAAM,IAAKR,EAAWI,IAAIG,GAAW,CAAE,MAAM,IAAIF,UAAU,iDAAmD,CAAE,OAAOG,CAAI,CACjL,IAAIC,EAA0B,IAAIC,QAClC,IAAIC,EAA0B,WAC5BC,aAAaC,YAAYF,EAAY,KAAM,CAAC,CAC1CG,IAAK,UACLC,MAAO,SAASC,EAAQC,GACtB,OAAON,EAAWO,oBAAoBC,IAAIF,IAAO,IACnD,KAEF,SAASN,EAAWM,GAClB,IAAIG,EAAUC,UAAUC,OAAS,GAAKD,UAAU,KAAOE,UAAYF,UAAU,GAAK,CAAC,EACnFT,aAAaY,eAAeC,KAAMd,GAClCb,EAA4B2B,KAAMhB,GAClCG,aAAac,eAAeD,KAAM,4BAA6BA,KAAKE,yBAAyBC,KAAKH,OAClGb,aAAac,eAAeD,KAAM,SAAU,IAAII,KAChDjB,aAAac,eAAeD,KAAM,YAAa,IAAII,KACnDJ,KAAKR,GAAKA,EACVQ,KAAKK,QAAUC,GAAGd,GAClB,IAAKQ,KAAKK,QAAS,CACjB,MACF,CACAL,KAAKO,UAAYZ,EAAQY,UACzBP,KAAKQ,MAAQb,EAAQa,MACrBR,KAAKS,SAAWd,EAAQc,SACxBT,KAAKU,SAAWf,EAAQe,SACxBV,KAAKW,QAAUhB,EAAQgB,QACvBX,KAAKY,WAAa1B,EAAW2B,YAC7B,GAAIlB,EAAQmB,gBAAkB,KAAM,CAClC,IAAIC,EAAYf,KAAKK,QAAQW,cAAc,kCAC3C,GAAI7C,EAAU8C,KAAKC,UAAUH,GAAY,CACvCA,EAAUI,MAAMC,QAAU,MAC5B,CACF,CACA,GAAIjD,EAAU8C,KAAKI,SAAS1B,EAAQ2B,QAAS,CAC3C,IAAK,IAAIjC,KAAOM,EAAQ2B,OAAQ,CAC9B,IAAK3B,EAAQ2B,OAAOC,eAAelC,GAAM,CACvC,QACF,CACAW,KAAKsB,OAAOE,IAAInC,EAAKM,EAAQ2B,OAAOjC,GACtC,CACF,CACA,GAAIW,KAAKyB,aAAc,CACrBrD,EAAiBsD,aAAaC,UAAU,qBAAsB3B,KAAK4B,0BACrE,CACA1C,EAAWO,oBAAoB+B,IAAIxB,KAAKR,GAAIQ,KAC9C,CACAb,aAAaC,YAAYF,EAAY,CAAC,CACpCG,IAAK,aACLC,MAAO,SAASmC,IACd,OAAOzB,KAAKU,WAAa,IAC3B,GACC,CACDrB,IAAK,2BACLC,MAAO,SAASY,EAAyB2B,GACvC,IAAIC,EAAuBD,EAAME,gBAC/BC,EAAwB7C,aAAa8C,cAAcH,EAAsB,GACzEtC,EAAKwC,EAAsB,GAC3BE,EAAWF,EAAsB,GACnC,GAAI7D,EAAU8C,KAAKkB,eAAenC,KAAKW,UAAYX,KAAKW,UAAYnB,EAAI,CACtEQ,KAAKoC,iBAAmB,IAAIhC,IAC5BhC,EAAiBsD,aAAaC,UAAUO,EAAU,kBAAmBlC,KAAKqC,aAAalC,KAAKH,OAC5F5B,EAAiBsD,aAAaC,UAAUO,EAAU,mBAAoBlC,KAAKsC,aAAanC,KAAKH,OAC7F5B,EAAiBsD,aAAaC,UAAUO,EAAU,SAAUlC,KAAKuC,OAAOpC,KAAKH,OAC7E5B,EAAiBsD,aAAaC,UAAUO,EAAU,mBAAoBlC,KAAKwC,iBAAiBrC,KAAKH,MACnG,CACF,GACC,CACDX,IAAK,oBACLC,MAAO,SAASmD,IACd,GAAIzC,KAAKyB,aAAc,CACrBrD,EAAiBsD,aAAagB,YAAY,qBAAsB1C,KAAK4B,0BACvE,CACF,GACC,CACDvC,IAAK,8BACLC,MAAO,SAASqD,IACd,GAAIxE,EAAUyE,WAAWC,SAAS,oBAAqB,CACrD,IAAIC,EAAaxC,GAAGyC,GAAG7D,WAAWK,QAAQS,KAAKW,SAC/C,GAAImC,EAAY,CACdA,EAAWL,mBACb,CACF,CACF,GACC,CACDpD,IAAK,QACLC,MAAO,SAAS0D,IACd,OAAOhD,KAAKR,EACd,GACC,CACDH,IAAK,QACLC,MAAO,SAAS2D,EAAMzD,GACpBQ,KAAKR,GAAKA,CACZ,GACC,CACDH,IAAK,eACLC,MAAO,SAAS+C,EAAaR,GAC3B,IAAIqB,EAAwBrB,EAAME,gBAChCoB,EAAwBhE,aAAa8C,cAAciB,EAAuB,GAC1EE,EAAOD,EAAsB,GAC/B,IAAIE,EAAYD,EAAKE,WACrB,GAAInF,EAAU8C,KAAKsC,MAAMF,GAAY,CACnC,OAAO,IACT,CACArD,KAAKsB,OAAO,UAAU+B,GACtB,GAAIrD,KAAKyB,aAAc,CACrBzB,KAAKwD,MACP,CACF,GACC,CACDnE,IAAK,mBACLC,MAAO,SAASkD,EAAiBX,GAC/B,IAAI4B,EAAwB5B,EAAME,gBAChC2B,EAAwBvE,aAAa8C,cAAcwB,EAAuB,GAC1EE,EAAOD,EAAsB,GAC7BE,EAASF,EAAsB,GAC/BG,EAAeH,EAAsB,GACvC,IAAII,EAAQD,EAAaT,KACzB,GAAIO,IAAS,OAAS,eAAgBG,GAAS3F,EAAU8C,KAAKsC,MAAMvD,KAAKoC,iBAAiB1C,IAAIkE,IAAU,CACtG5D,KAAKoC,iBAAiBZ,IAAIoC,EAAQE,EAAM,cAC1C,CACF,GACC,CACDzE,IAAK,SACLC,MAAO,SAASiD,IACd,GAAIvC,KAAK+D,UAAUC,KAAO,GAAKhE,KAAKyB,aAAc,CAChDzB,KAAKwD,MACP,CACAxD,KAAK+D,UAAUE,OACjB,GACC,CACD5E,IAAK,eACLC,MAAO,SAASgD,EAAaT,GAC3B,IAAIqC,EAAwBrC,EAAME,gBAChCoC,EAAwBhF,aAAa8C,cAAciC,EAAuB,GAC1EN,EAASO,EAAsB,GAC/BC,EAASD,EAAsB,GACjC,IAAKnE,KAAKyB,eAAiBtD,EAAU8C,KAAKI,SAAS+C,MAAa,SAAUA,MAAa,UAAWA,EAAOhB,SAAW,YAAagB,EAAOhB,KAAKiB,OAAQ,CACnJ,MACF,CACAxF,EAAuBmB,KAAMhB,EAAYsF,GAAaC,KAAKvE,KAAM,CAC/DwE,KAAM,UACNC,SAAU,mBACV5C,MAAO,iBAET,IAAI6C,EAAsBN,EAAO,QAAQ,SAAS,WAClD,IAAIO,EAAY,CACdC,OAAQhB,EACRiB,KAAM,CACJC,KAAMJ,EAAoBI,KAC1BnB,KAAMe,EAAoBf,KAC1BoB,SAAUL,EAAoBM,KAC9BhB,KAAMU,EAAoBV,KAC1BiB,MAAO,OAGX,IAAIC,EAAgBlF,KAAKoC,iBAAiB1C,IAAIkE,IAAWA,EACzD5D,KAAKsB,OAAOE,IAAI0D,EAAeP,GAC/B3E,KAAK+D,UAAUvC,IAAI0D,EAAeP,EACpC,GACC,CACDtF,IAAK,OACLC,MAAO,SAASkE,IACd,IAAI2B,EAAQnF,KACZ,GAAIA,KAAKoF,kBAAmB,CAC1BC,aAAarF,KAAKoF,kBACpB,CACA,IAAIE,EAAYnH,EAAUoH,KAAKC,UAAU,IACzCxF,KAAKyF,uBAAyBH,EAC9BtF,KAAKoF,kBAAoBM,YAAW,WAClC,IAAIpE,EAAS,CAAC,EACd6D,EAAM7D,OAAOqE,SAAQ,SAAUvC,EAAM5D,GACnC8B,EAAO9B,GAAM4D,CACf,IACAjF,EAAUyH,KAAKC,UAAU,wCAAyC,CAChEC,KAAM,CACJvF,UAAW4E,EAAM5E,UACjBwF,YAAaZ,EAAM3E,MACnBC,SAAU0E,EAAM1E,SAChBuF,YAAa1E,KAEd2E,MAAK,SAAUC,GAChB,IAAIC,EACJ,IAAKhB,EAAMM,yBAA2BH,EAAW,CAC/C,MACF,CACAH,EAAM7D,OAAO2C,QACb,GAAI9F,EAAU8C,KAAKI,UAAU8E,EAAiBD,EAASrB,QAAU,MAAQsB,SAAwB,OAAS,EAAIA,EAAe7E,QAAS,CACpI,IAAK,IAAIjC,KAAO6G,EAASrB,KAAKvD,OAAQ,CACpC,IAAK4E,EAASrB,KAAKvD,OAAOC,eAAelC,GAAM,CAC7C,QACF,CACA8F,EAAM7D,OAAOE,IAAInC,EAAK6G,EAASrB,KAAKvD,OAAOjC,GAC7C,CACF,CACAlB,EAAUiI,QAAQC,KAAKlB,EAAM9E,QAAS6F,EAASrB,KAAKyB,OACpDlI,EAAiBsD,aAAa6E,KAAK,2BAA4B,CAACpB,EAAM3F,GAAI2F,EAAMxE,QAASuF,GAC3F,GACF,GAAG,IACL,KAEF,OAAOhH,CACT,CAvM8B,GAwM9B,SAASoF,EAAYO,GACnB1G,EAAUiI,QAAQI,cAAc,gBAAgBP,MAAK,SAAU/H,GAC7D,IAAIuI,EAAWvI,EAAQuI,SACvBA,EAAS5B,EACX,IAAG,UAAS,WACV6B,QAAQzB,MAAM,+CAChB,GACF,CACA9F,aAAac,eAAef,EAAY,sBAAuB,IAAIkB,KACnEjB,aAAac,eAAef,EAAY,iBAAkB,WAC1DC,aAAac,eAAef,EAAY,cAAe,QACvDf,EAAUyE,WAAW+D,UAAU,cAAczH,WAAaA,CAE3D,EA5NA,CA4NGc,KAAK4G,OAAS5G,KAAK4G,QAAU,CAAC,EAAGtG,GAAGA,GAAGuG"}},{"offset": { "line": 10, "column": 0 }, "map": {"version":3,"file":"script.map.js","names":["exports","main_core","main_core_events","main_loader","_templateObject","instances","Map","ImageInput","babelHelpers","createClass","key","value","getById","id","get","params","arguments","length","undefined","classCallCheck","this","defineProperty","handleOnUploaderIsInited","bind","recalculateWrapper","instanceId","containerId","loaderContainerId","settings","disabled","Event","getContainer","event","stopPropagation","preventDefault","addImageHandler","addImage","editImageHandler","editImage","EventEmitter","subscribe","onUploaderIsInitedHandler","set","_this","_event$getCompatData","getCompatData","_event$getCompatData2","slicedToArray","uploader","getPreviews","Dom","addClass","getFileWrapper","requestAnimationFrame","getLoaderContainer","style","display","onFileIsDeletedHandler","onUploadStartHandler","onUploadDoneHandler","onFileCanvasIsLoadedHandler","unsubscribe","recalculateWrapperHandler","unsubscribeEvents","getInputInstance","BX","UI","FileInput","getInstance","getFileInput","agent","fileInput","container","document","getElementById","Type","isDomNode","Error","concat","fileWrapper","querySelector","loaderContainer","getAddButton","addButton","target","detail","inputInstance","items","getItems","hasOwnProperty","frameFlags","active","frameFiles","click","getLoader","loader","Loader","showLoader","setOptions","size","Math","min","offsetHeight","offsetWidth","show","hideLoader","hide","_this2","timeout","clearTimeout","setTimeout","_this3","_event$getCompatData3","_event$getCompatData4","stream","uploading","_this4","_event$getCompatData5","_event$getCompatData6","_this5","isMultipleInput","uploadParams","maxCount","buildShadowElement","wrapper","offsetParent","shadowElement","Tag","render","taggedTemplateLiteral","prepend","canvas","bottomMargin","height","width","closest","querySelectorAll","previews","unbind","unbindAll","removeClass","Reflection","namespace","window"],"sources":["/bitrix/components/bitrix/ui.image.input/templates/.default/script.js"],"mappings":"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"}}]}